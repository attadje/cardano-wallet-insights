var n=new Headers;n.append("project_id","mainnetiSXrfNxhpPChKCnts2KX9MJ1eQ7exYgb");const t="https://cardano-mainnet.blockfrost.io/api/v0",a=async function(a){const e=await async function(t,a){try{const o=a?fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}):fetch(t,{method:"GET",headers:n}),s=await Promise.race([o,(e=120,new Promise((function(n,t){setTimeout((function(){t(new Error(`Request took too long! Timeout after ${e} second`))}),1e3*e)})))]),r=await s.json();if(!s.ok)throw new Error(`${r.message} (${s.status})`);return r}catch(n){throw n}var e}(`${t}/accounts/${a}/rewards`),o=[],s=[];return e.forEach((function(n){o.push(n.epoch),s.push(n.amount)})),{epochs:o,rewards:s}};var e=new class{_rewardsHistory;_epochsHistory;_parentElem=document.querySelector(".rewardsHistory");_calcRewardAmount(n){const t=n.reduce(((n,t)=>n+t),0);return Number.parseFloat(t).toFixed(2)}_clear(){this._parentElem.innerHTML=""}_generateMarkup(){return`<div class="card-header">\n        <div class="row">\n          <div class="col-sm-6 text-left">\n            <h5 class="card-category">Rewards History</h5>\n            <h3 class="card-title">\n              <i class="tim-icons icon-bell-55 text-primary"></i>\n              ${this._calcRewardAmount(this._rewardsHistory)}\n            </h3>\n          </div>\n          <div class="col-sm-6">\n            <div\n              class="btn-group btn-group-toggle float-right"\n              data-toggle="buttons"\n            >\n              <label\n                class="btn btn-sm btn-primary btn-simple active"\n                id="mEpochs"\n              >\n                <input type="radio" name="options" checked />\n                <span\n                  class="d-none d-sm-block d-md-block d-lg-block d-xl-block"\n                  >1 m</span\n                >\n                <span class="d-block d-sm-none">\n                  <i class="tim-icons icon-single-02"></i>\n                </span>\n              </label>\n              <label\n                class="btn btn-sm btn-primary btn-simple"\n                id="yEpochs"\n              >\n                <input\n                  type="radio"\n                  class="d-none d-sm-none"\n                  name="options"\n                />\n                <span\n                  class="d-none d-sm-block d-md-block d-lg-block d-xl-block"\n                  >1 a</span\n                >\n                <span class="d-block d-sm-none">\n                  <i class="tim-icons icon-gift-2"></i>\n                </span>\n              </label>\n              <label\n                class="btn btn-sm btn-primary btn-simple"\n                id="allEpochs"\n              >\n                <input type="radio" class="d-none" name="options" />\n                <span\n                  class="d-none d-sm-block d-md-block d-lg-block d-xl-block"\n                  >Max.</span\n                >\n                <span class="d-block d-sm-none">\n                  <i class="tim-icons icon-tap-02"></i>\n                </span>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="card-body">\n        <div class="chart-area">\n          <canvas id="rewardsChart"></canvas>\n        </div>\n      </div>\n    </div>\n    </div>`}generateChart(n,t){this._rewardsHistory=t,this.epochsHistory=n,this._clear(),this._parentElem.insertAdjacentHTML("afterbegin",this._generateMarkup());const a=document.getElementById("rewardsChart").getContext("2d");var e=a.createLinearGradient(0,230,0,50);e.addColorStop(1,"rgba(72,72,176,0.1)"),e.addColorStop(.4,"rgba(72,72,176,0.0)"),e.addColorStop(0,"rgba(119,52,169,0)");var o={type:"line",data:{labels:n.slice(n.length-18,n.length),datasets:[{label:"Rewards",fill:!0,backgroundColor:e,borderColor:"#d346b1",borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:"#d346b1",pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:"#d346b1",pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4,data:t.slice(t.length-18,t.length)}]},options:{maintainAspectRatio:!1,legend:{display:!1},tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},responsive:!0,scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(225,78,202,0.1)",zeroLineColor:"rgba(225,78,202,0.1)"},ticks:{padding:20,fontColor:"#9a9a9a",callback:function(n,t){return t%2==0?n:""}}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(225,78,202,0.0)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9a9a9a",callback:function(n,t){return t%4==0?n:""}}}]}}},s=new Chart(a,o);if(this._rewardsHistory.length<18.6){}document.querySelector("#mEpochs").addEventListener("click",(function(){var a=t.slice(t.length-18,t.length),e=s.config.data;e.datasets[0].data=a,e.labels=n.slice(n.length-18,n.length),s.update()})),document.querySelector("#allEpochs").addEventListener("click",(function(){var a=s.config.data;a.datasets[0].data=t,a.labels=n,s.update()})),document.querySelector("#yEpochs").addEventListener("click",(function(){var n=s.config.data;n.datasets[0].data=[60,80,65,130,80,105,90,130,70,115,60,130],n.labels=chart_labels,s.update()}))}_getLastEpochsRewards(n){return this._rewardsHistory.slice(this._rewardsHistory.length-n,this._rewardsHistory)}_addMaxButton(){}_addYearButton(){}_addThreeMonthButton(){}};!async function(){const n=await a("stake1uyttshgm6jtejckv48tll58hfw3fg2ffrcc4d5qvcc4yc7q9jsalf"),t=n.rewards.flatMap((n=>n/1e6));e.generateChart(n.epochs,t)}();
//# sourceMappingURL=index.1d3ce217.js.map
